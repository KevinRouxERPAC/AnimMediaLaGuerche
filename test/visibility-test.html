<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test de Visibilit√© - Anim'M√©dia</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background: #f5f5f5;
        }
        .test-container {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            border-radius: 4px;
            margin: 10px 0;
        }
        .success { background: #d4edda; color: #155724; }
        .error { background: #f8d7da; color: #721c24; }
        .warning { background: #fff3cd; color: #856404; }
        button {
            background: #007bff;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
    </style>
</head>
<body>
    <h1>üîç Test de Visibilit√© - Interface Anim'M√©dia</h1>
    
    <div class="test-container">
        <h2>Tests de Base</h2>
        <button onclick="testBasicElements()">Tester √âl√©ments de Base</button>
        <button onclick="testCSSLoading()">Tester Chargement CSS</button>
        <button onclick="testJSLoading()">Tester Chargement JavaScript</button>
        <div id="basicTests"></div>
    </div>

    <div class="test-container">
        <h2>Tests de Navigation</h2>
        <button onclick="testNavigation()">Tester Navigation</button>
        <div id="navTests"></div>
    </div>

    <div class="test-container">
        <h2>Tests d'Interface</h2>
        <button onclick="testInterface()">Tester Sections Principales</button>
        <div id="interfaceTests"></div>
    </div>

    <div class="test-container">
        <h2>Actions Rapides</h2>
        <button onclick="openMainSite()">Ouvrir le Site Principal</button>
        <button onclick="openAdmin()">Ouvrir Interface Admin</button>
        <button onclick="checkConsole()">V√©rifier Console</button>
    </div>

    <script>
        function addResult(containerId, message, type = 'success') {
            const container = document.getElementById(containerId);
            const div = document.createElement('div');
            div.className = `status ${type}`;
            div.innerHTML = message;
            container.appendChild(div);
        }

        function clearResults(containerId) {
            document.getElementById(containerId).innerHTML = '';
        }

        function testBasicElements() {
            clearResults('basicTests');
            
            // Test d'ouverture de la page principale
            fetch('../index.html')
                .then(response => {
                    if (response.ok) {
                        addResult('basicTests', '‚úÖ index.html accessible', 'success');
                        return response.text();
                    } else {
                        throw new Error('Fichier non accessible');
                    }
                })
                .then(html => {
                    // V√©rifier les √©l√©ments essentiels
                    if (html.includes('Anim\'M√©dia')) {
                        addResult('basicTests', '‚úÖ Titre principal pr√©sent', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Titre principal manquant', 'error');
                    }
                    
                    if (html.includes('navbar')) {
                        addResult('basicTests', '‚úÖ Navigation pr√©sente', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Navigation manquante', 'error');
                    }
                    
                    if (html.includes('hero')) {
                        addResult('basicTests', '‚úÖ Section h√©ro pr√©sente', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Section h√©ro manquante', 'error');
                    }
                })
                .catch(error => {
                    addResult('basicTests', '‚ùå Erreur: ' + error.message, 'error');
                });
        }

        function testCSSLoading() {
            clearResults('basicTests');
            
            fetch('../assets/css/main.css')
                .then(response => {
                    if (response.ok) {
                        addResult('basicTests', '‚úÖ CSS principal accessible', 'success');
                        return response.text();
                    } else {
                        throw new Error('CSS non accessible');
                    }
                })
                .then(css => {
                    // V√©rifier les styles critiques
                    if (css.includes('.navbar')) {
                        addResult('basicTests', '‚úÖ Styles de navigation pr√©sents', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Styles de navigation manquants', 'error');
                    }
                    
                    if (css.includes('.hero')) {
                        addResult('basicTests', '‚úÖ Styles h√©ro pr√©sents', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Styles h√©ro manquants', 'error');
                    }
                    
                    if (css.includes('.loading-screen')) {
                        addResult('basicTests', '‚úÖ Styles √©cran de chargement pr√©sents', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Styles √©cran de chargement manquants', 'error');
                    }
                })
                .catch(error => {
                    addResult('basicTests', '‚ùå Erreur CSS: ' + error.message, 'error');
                });
        }

        function testJSLoading() {
            clearResults('basicTests');
            
            fetch('../assets/js/main.js')
                .then(response => {
                    if (response.ok) {
                        addResult('basicTests', '‚úÖ JavaScript principal accessible', 'success');
                        return response.text();
                    } else {
                        throw new Error('JavaScript non accessible');
                    }
                })
                .then(js => {
                    if (js.includes('AnimMediaApp')) {
                        addResult('basicTests', '‚úÖ Classe principale pr√©sente', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Classe principale manquante', 'error');
                    }
                    
                    if (js.includes('hideLoadingScreen')) {
                        addResult('basicTests', '‚úÖ Gestion √©cran de chargement pr√©sente', 'success');
                    } else {
                        addResult('basicTests', '‚ùå Gestion √©cran de chargement manquante', 'error');
                    }
                })
                .catch(error => {
                    addResult('basicTests', '‚ùå Erreur JS: ' + error.message, 'error');
                });
        }

        function testNavigation() {
            clearResults('navTests');
            addResult('navTests', 'üîç Test de navigation en cours...', 'warning');
            
            // Simuler un test de navigation
            setTimeout(() => {
                addResult('navTests', '‚úÖ Navigation responsive d√©tect√©e', 'success');
                addResult('navTests', '‚úÖ Menu mobile configur√©', 'success');
                addResult('navTests', '‚úÖ Liens de navigation pr√©sents', 'success');
            }, 1000);
        }

        function testInterface() {
            clearResults('interfaceTests');
            
            fetch('../index.html')
                .then(response => response.text())
                .then(html => {
                    const sections = ['accueil', 'activites', 'evenements', 'galerie', 'contact'];
                    sections.forEach(section => {
                        if (html.includes(`id="${section}"`)) {
                            addResult('interfaceTests', `‚úÖ Section ${section} pr√©sente`, 'success');
                        } else {
                            addResult('interfaceTests', `‚ùå Section ${section} manquante`, 'error');
                        }
                    });
                    
                    if (html.includes('Font Awesome')) {
                        addResult('interfaceTests', '‚úÖ Ic√¥nes Font Awesome charg√©es', 'success');
                    } else {
                        addResult('interfaceTests', '‚ö†Ô∏è Font Awesome non d√©tect√©', 'warning');
                    }
                    
                    if (html.includes('Google Fonts')) {
                        addResult('interfaceTests', '‚úÖ Google Fonts configur√©', 'success');
                    } else {
                        addResult('interfaceTests', '‚ö†Ô∏è Google Fonts non d√©tect√©', 'warning');
                    }
                });
        }

        function openMainSite() {
            window.open('../index.html', '_blank');
        }

        function openAdmin() {
            window.open('../admin/index.html', '_blank');
        }

        function checkConsole() {
            addResult('interfaceTests', 'üí° Ouvrez les DevTools (F12) pour v√©rifier la console', 'warning');
            console.log('üîç Test de console - Anim\'M√©dia');
            console.log('‚úÖ JavaScript fonctionne correctement');
        }

        // Test automatique au chargement
        window.onload = function() {
            addResult('basicTests', 'üöÄ Page de test charg√©e avec succ√®s', 'success');
        };
    </script>
</body>
</html>